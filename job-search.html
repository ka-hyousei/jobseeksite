<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ê±Ç‰∫∫Ê§úÁ¥¢ - TechJob</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fa;
            min-height: 100vh;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
        }

        .nav-menu {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-menu a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s;
        }

        .nav-menu a:hover {
            opacity: 0.8;
        }

        .search-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .search-header {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .search-box {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .search-input {
            flex: 1;
            padding: 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn-search {
            padding: 1rem 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: transform 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-search:hover {
            transform: translateY(-2px);
        }

        .btn-clear {
            padding: 1rem 1.5rem;
            background: white;
            border: 2px solid #e0e0e0;
            color: #666;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .btn-clear:hover {
            border-color: #667eea;
            color: #667eea;
        }

        .filter-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .filter-group label {
            color: #555;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .filter-group select {
            padding: 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 0.95rem;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        .filter-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .content-wrapper {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 2rem;
        }

        .sidebar {
            background: white;
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            height: fit-content;
            position: sticky;
            top: 6rem;
        }

        .sidebar h3 {
            color: #667eea;
            margin-bottom: 1rem;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-section-sidebar {
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #f0f0f0;
        }

        .filter-section-sidebar:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .filter-checkbox {
            margin-bottom: 0.8rem;
        }

        .filter-checkbox label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            transition: color 0.3s;
        }

        .filter-checkbox label:hover {
            color: #667eea;
        }

        .filter-checkbox input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: #667eea;
        }

        .selected-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .filter-tag {
            background: #e8eaf6;
            color: #667eea;
            padding: 0.4rem 0.8rem;
            border-radius: 15px;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-tag button {
            background: none;
            border: none;
            color: #667eea;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
        }

        .results-section {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .results-header {
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .results-count {
            color: #667eea;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .results-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .sort-select {
            padding: 0.5rem 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            cursor: pointer;
        }

        .view-toggle {
            display: flex;
            gap: 0.5rem;
        }

        .view-btn {
            padding: 0.5rem;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .view-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .job-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .job-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }

        .job-card-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
            gap: 1rem;
        }

        .company-logo {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .job-info {
            flex: 1;
        }

        .job-title {
            color: #333;
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .company-name {
            color: #667eea;
            font-weight: 500;
            margin-bottom: 0.5rem;
            cursor: pointer;
        }

        .company-name:hover {
            text-decoration: underline;
        }

        .job-meta {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            color: #666;
            font-size: 0.9rem;
            margin: 1rem 0;
        }

        .job-meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .job-description {
            color: #555;
            line-height: 1.6;
            margin-bottom: 1rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .job-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .job-tag {
            background: #e8eaf6;
            color: #667eea;
            padding: 0.4rem 0.8rem;
            border-radius: 15px;
            font-size: 0.85rem;
        }

        .job-tag.workstyle {
            background: #e8f5e9;
            color: #2e7d32;
        }

        .job-tag.featured {
            background: #fff3cd;
            color: #856404;
        }

        .job-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 1px solid #e0e0e0;
        }

        .posted-date {
            color: #999;
            font-size: 0.85rem;
        }

        .job-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn-apply {
            padding: 0.8rem 1.5rem;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
        }

        .btn-apply:hover {
            background: #5568d3;
        }

        .btn-bookmark {
            padding: 0.8rem;
            background: transparent;
            border: 2px solid #667eea;
            color: #667eea;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s;
        }

        .btn-bookmark:hover {
            background: #667eea;
            color: white;
        }

        .btn-bookmark.bookmarked {
            background: #667eea;
            color: white;
        }

        .no-results {
            background: white;
            padding: 3rem;
            border-radius: 15px;
            text-align: center;
            color: #666;
        }

        .no-results-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .loading-spinner {
            display: none;
            text-align: center;
            padding: 3rem;
            background: white;
            border-radius: 15px;
        }

        .loading-spinner.show {
            display: block;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .apply-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }

        .apply-modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            max-width: 500px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            margin-bottom: 1.5rem;
        }

        .modal-header h2 {
            color: #333;
            margin-bottom: 0.5rem;
        }

        .modal-header p {
            color: #666;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #555;
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .required {
            color: #e74c3c;
        }

        .modal-buttons {
            display: flex;
            gap: 1rem;
        }

        .btn-submit {
            flex: 1;
            padding: 1rem;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
        }

        .btn-submit:hover {
            background: #5568d3;
        }

        .btn-cancel {
            flex: 1;
            padding: 1rem;
            background: white;
            border: 2px solid #e0e0e0;
            color: #666;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-cancel:hover {
            border-color: #667eea;
            color: #667eea;
        }

        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            margin-top: 2rem;
        }

        .pagination button {
            padding: 0.5rem 1rem;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .pagination button:hover:not(:disabled) {
            border-color: #667eea;
            color: #667eea;
        }

        .pagination button.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .pagination button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        @media (max-width: 1024px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }

            .sidebar {
                position: static;
            }
        }

        @media (max-width: 768px) {
            .search-box {
                flex-direction: column;
            }

            .filter-section {
                grid-template-columns: 1fr;
            }

            .job-card-header {
                flex-direction: column;
            }

            .job-meta {
                flex-direction: column;
                gap: 0.5rem;
            }

            .results-header {
                flex-direction: column;
                align-items: start;
            }

            .nav-menu {
                display: none;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo" onclick="location.href='index.html'">üîç TechJob - Ê±Ç‰∫∫Ê§úÁ¥¢</div>
            <div class="nav-menu">
                <a href="index.html">„Éõ„Éº„É†</a>
                <a href="engineer-profile.html">„Éû„Ç§„Éö„Éº„Ç∏</a>
                <a href="messages.html">„É°„ÉÉ„Çª„Éº„Ç∏</a>
                <a href="login.html">„É≠„Ç∞„Ç§„É≥</a>
            </div>
        </nav>
    </header>

    <div class="search-container">
        <div class="search-header">
            <div class="search-box">
                <input type="text" class="search-input" id="searchKeyword" 
                       placeholder="„Ç≠„Éº„ÉØ„Éº„Éâ„ÄÅ‰ºöÁ§æÂêç„ÄÅËÅ∑Á®ÆÂêç„ÅßÊ§úÁ¥¢..." 
                       onkeypress="if(event.key==='Enter') searchJobs()">
                <button class="btn-search" onclick="searchJobs()">
                    üîç Ê§úÁ¥¢
                </button>
                <button class="btn-clear" onclick="clearFilters()">
                    „ÇØ„É™„Ç¢
                </button>
            </div>
            
            <div class="filter-section">
                <div class="filter-group">
                    <label for="locationFilter">üìç Âã§ÂãôÂú∞</label>
                    <select id="locationFilter" onchange="searchJobs()">
                        <option value="">„Åô„Åπ„Å¶</option>
                        <option value="tokyo">Êù±‰∫¨ÈÉΩ</option>
                        <option value="osaka">Â§ßÈò™Â∫ú</option>
                        <option value="nagoya">ÊÑõÁü•Áúå</option>
                        <option value="fukuoka">Á¶èÂ≤°Áúå</option>
                        <option value="remote">„Éï„É´„É™„É¢„Éº„Éà</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="salaryFilter">üí∞ Âπ¥Âèé</label>
                    <select id="salaryFilter" onchange="searchJobs()">
                        <option value="">ÊåáÂÆö„Å™„Åó</option>
                        <option value="300">300‰∏áÂÜÜ‰ª•‰∏ä</option>
                        <option value="400">400‰∏áÂÜÜ‰ª•‰∏ä</option>
                        <option value="500">500‰∏áÂÜÜ‰ª•‰∏ä</option>
                        <option value="600">600‰∏áÂÜÜ‰ª•‰∏ä</option>
                        <option value="700">700‰∏áÂÜÜ‰ª•‰∏ä</option>
                        <option value="800">800‰∏áÂÜÜ‰ª•‰∏ä</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="experienceFilter">üìö ÁµåÈ®ìÂπ¥Êï∞</label>
                    <select id="experienceFilter" onchange="searchJobs()">
                        <option value="">ÊåáÂÆö„Å™„Åó</option>
                        <option value="0">Êú™ÁµåÈ®ìÂèØ</option>
                        <option value="1">1Âπ¥‰ª•‰∏ä</option>
                        <option value="3">3Âπ¥‰ª•‰∏ä</option>
                        <option value="5">5Âπ¥‰ª•‰∏ä</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="employmentFilter">‚è∞ ÈõáÁî®ÂΩ¢ÊÖã</label>
                    <select id="employmentFilter" onchange="searchJobs()">
                        <option value="">„Åô„Åπ„Å¶</option>
                        <option value="fulltime">Ê≠£Á§æÂì°</option>
                        <option value="contract">Â•ëÁ¥ÑÁ§æÂì°</option>
                        <option value="freelance">„Éï„É™„Éº„É©„É≥„Çπ</option>
                    </select>
                </div>
            </div>

            <div class="selected-filters" id="selectedFilters"></div>
        </div>

        <div class="content-wrapper">
            <aside class="sidebar">
                <div class="filter-section-sidebar">
                    <h3>üíª „Çπ„Ç≠„É´„ÅßÁµû„ÇäËæº„Åø</h3>
                    <div class="filter-checkbox">
                        <label>
                            <input type="checkbox" value="JavaScript" onchange="searchJobs()">
                            JavaScript
                        </label>
                    </div>
                    <div class="filter-checkbox">
                        <label>
                            <input type="checkbox" value="Python" onchange="searchJobs()">
                            Python
                        </label>
                    </div>
                    <div class="filter-checkbox">
                        <label>
                            <input type="checkbox" value="Java" onchange="searchJobs()">
                            Java
                        </label>
                    </div>
                    <div class="filter-checkbox">
                        <label>
                            <input type="checkbox" value="PHP" onchange="searchJobs()">
                            PHP
                        </label>
                    </div>
                    <div class="filter-checkbox">
                        <label>
                            <input type="checkbox" value="Ruby" onchange="searchJobs()">
                            Ruby
                        </label>
                    </div>
                    <div class="filter-checkbox">
                        <label>
                            <input type="checkbox" value="Go" onchange="searchJobs()">
                            Go
                        </label>
                    </div>
                    <div class="filter-checkbox">
                        <label>
                            <input type="checkbox" value="React" onchange="searchJobs()">
                            React
                        </label>
                    </div>
                    <div class="filter-checkbox">
                        <label>
                            <input type="checkbox" value="Vue.js" onchange="searchJobs()">
                            Vue.js
                        </label>
                    </div>
                    <div class="filter-checkbox">
                        <label>
                            <input type="checkbox" value="Node.js" onchange="searchJobs()">
                            Node.js
                        </label>
                    </div>
                    <div class="filter-checkbox">
                        <label>
                            <input type="checkbox" value="AWS" onchange="searchJobs()">
                            AWS
                        </label>
                    </div>
                    <div class="filter-checkbox">
                        <label>
                            <input type="checkbox" value="Docker" onchange="searchJobs()">
                            Docker
                        </label>
                    </div>
                </div>

                <div class="filter-section-sidebar">
                    <h3>üè† Âã§ÂãôÂΩ¢ÊÖã</h3>
                    <div class="filter-checkbox">
                        <label>
                            <input type="checkbox" name="workstyle" value="remote" onchange="searchJobs()">
                            „Éï„É´„É™„É¢„Éº„ÉàÂèØ
                        </label>
                    </div>
                    <div class="filter-checkbox">
                        <label>
                            <input type="checkbox" name="workstyle" value="hybrid" onchange="searchJobs()">
                            „Éè„Ç§„Éñ„É™„ÉÉ„Éâ
                        </label>
                    </div>
                    <div class="filter-checkbox">
                        <label>
                            <input type="checkbox" name="workstyle" value="office" onchange="searchJobs()">
                            „Ç™„Éï„Ç£„ÇπÂã§Âãô
                        </label>
                    </div>
                    <div class="filter-checkbox">
                        <label>
                            <input type="checkbox" name="workstyle" value="flextime" onchange="searchJobs()">
                            „Éï„É¨„ÉÉ„ÇØ„Çπ„Çø„Ç§„É†Âà∂
                        </label>
                    </div>
                </div>
            </aside>

            <div class="results-section">
                <div class="results-header">
                    <div class="results-count" id="resultsCount">125‰ª∂„ÅÆÊ±Ç‰∫∫„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åó„Åü</div>
                    <div class="results-actions">
                        <select class="sort-select" id="sortSelect" onchange="sortJobs()">
                            <option value="newest">Êñ∞ÁùÄÈ†Ü</option>
                            <option value="salary-high">Âπ¥Âèé„ÅåÈ´ò„ÅÑÈ†Ü</option>
                            <option value="salary-low">Âπ¥Âèé„Åå‰Ωé„ÅÑÈ†Ü</option>
                            <option value="popular">‰∫∫Ê∞óÈ†Ü</option>
                        </select>
                    </div>
                </div>

                <div class="loading-spinner" id="loadingSpinner">
                    <div class="spinner"></div>
                    <p>Ê§úÁ¥¢‰∏≠...</p>
                </div>

                <div id="jobsList">
                    <!-- Ê±Ç‰∫∫„Ç´„Éº„Éâ„Åå„Åì„Åì„Å´ÂãïÁöÑ„Å´ÁîüÊàê„Åï„Çå„Åæ„Åô -->
                </div>

                <div class="pagination" id="pagination" style="display: none;">
                    <!-- „Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥„Éú„Çø„É≥„Åå„Åì„Åì„Å´ÁîüÊàê„Åï„Çå„Åæ„Åô -->
                </div>
            </div>
        </div>
    </div>

    <!-- ÂøúÂãü„É¢„Éº„ÉÄ„É´ -->
    <div class="apply-modal" id="applyModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalJobTitle">Ê±Ç‰∫∫„Å´ÂøúÂãü</h2>
                <p id="modalCompanyName">Ê†™Âºè‰ºöÁ§æ‚óã‚óã</p>
            </div>
            <form id="applyForm">
                <div class="form-group">
                    <label for="applicantName">Ê∞èÂêç <span class="required">*</span></label>
                    <input type="text" id="applicantName" required>
                </div>
                <div class="form-group">
                    <label for="applicantEmail">„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ <span class="required">*</span></label>
                    <input type="email" id="applicantEmail" required>
                </div>
                <div class="form-group">
                    <label for="applicantPhone">ÈõªË©±Áï™Âè∑ <span class="required">*</span></label>
                    <input type="tel" id="applicantPhone" required>
                </div>
                <div class="form-group">
                    <label for="coverLetter">ÂøóÊúõÂãïÊ©ü</label>
                    <textarea id="coverLetter" placeholder="„Åì„ÅÆÊ±Ç‰∫∫„Å´ÂøúÂãü„Åô„ÇãÁêÜÁî±„Çí„ÅîË®òÂÖ•„Åè„Å†„Åï„ÅÑ"></textarea>
                </div>
                <div class="form-group">
                    <label for="resumeUrl">Â±•Ê≠¥Êõ∏URLÔºà‰ªªÊÑèÔºâ</label>
                    <input type="url" id="resumeUrl" placeholder="https://...">
                </div>
                <div class="modal-buttons">
                    <button type="submit" class="btn-submit">ÂøúÂãü„Åô„Çã</button>
                    <button type="button" class="btn-cancel" onclick="closeApplyModal()">„Ç≠„É£„É≥„Çª„É´</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Ê±Ç‰∫∫„Éá„Éº„Çø„Éô„Éº„ÇπÔºàÂÆåÂÖ®ÁâàÔºâ
        const jobsDatabase = [
            {
                id: 1,
                title: '„Éï„É≠„É≥„Éà„Ç®„É≥„Éâ„Ç®„É≥„Ç∏„Éã„Ç¢ÔºàReactÔºâ',
                company: 'Ê†™Âºè‰ºöÁ§æ„ÉÜ„ÉÉ„ÇØ„Ç§„Éé„Éô„Éº„Ç∑„Éß„É≥',
                location: 'tokyo',
                salary: { min: 500, max: 700 },
                remote: 'hybrid',
                employment: 'fulltime',
                experience: 2,
                skills: ['React', 'TypeScript', 'JavaScript'],
                workstyle: ['hybrid', 'flextime'],
                description: 'Ëá™Á§æ„Çµ„Éº„Éì„Çπ„ÅÆ„Éï„É≠„É≥„Éà„Ç®„É≥„ÉâÈñãÁô∫„Çí„Åä‰ªª„Åõ„Åó„Åæ„Åô„ÄÇReact„Çí‰ΩøÁî®„Åó„ÅüÊúÄÊñ∞„ÅÆWeb„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥ÈñãÁô∫„Å´Êê∫„Çè„Å£„Å¶„ÅÑ„Åü„Å†„Åë„Åæ„Åô„ÄÇ„É¶„Éº„Ç∂„Éº‰ΩìÈ®ì„ÇíÈáçË¶ñ„Åó„ÅüÈñãÁô∫Áí∞Â¢É„Åß„ÄÅ„ÅÇ„Å™„Åü„ÅÆ„Çπ„Ç≠„É´„ÇíÂ≠òÂàÜ„Å´Áô∫ÊèÆ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
                postedDays: 2,
                logo: 'üè¢',
                featured: true
            },
            {
                id: 2,
                title: '„Éê„ÉÉ„ÇØ„Ç®„É≥„Éâ„Ç®„É≥„Ç∏„Éã„Ç¢ÔºàPython/DjangoÔºâ',
                company: '„Ç∞„É≠„Éº„Éê„É´„Ç¶„Çß„ÉñÊ†™Âºè‰ºöÁ§æ',
                location: 'tokyo',
                salary: { min: 600, max: 900 },
                remote: 'hybrid',
                employment: 'fulltime',
                experience: 3,
                skills: ['Python', 'Django', 'PostgreSQL', 'AWS'],
                workstyle: ['hybrid', 'flextime'],
                description: 'Â§ßË¶èÊ®°Web„Çµ„Éº„Éì„Çπ„ÅÆ„Éê„ÉÉ„ÇØ„Ç®„É≥„ÉâÈñãÁô∫„ÇíÊãÖÂΩì„Åó„Å¶„ÅÑ„Åü„Å†„Åç„Åæ„Åô„ÄÇPython„Å®Django„Çí‰ΩøÁî®„Åó„ÅüAPIÈñãÁô∫„ÄÅ„Éá„Éº„Çø„Éô„Éº„ÇπË®≠Ë®à„ÄÅ„Ç§„É≥„Éï„É©ÊßãÁØâ„Åæ„ÅßÂπÖÂ∫É„ÅÑÊ•≠Âãô„Å´Êê∫„Çè„Å£„Å¶„ÅÑ„Åü„Å†„Åë„Åæ„Åô„ÄÇ',
                postedDays: 7,
                logo: 'üåê',
                featured: false
            },
            {
                id: 3,
                title: '„Éï„É´„Çπ„Çø„ÉÉ„ÇØ„Ç®„É≥„Ç∏„Éã„Ç¢',
                company: '„Çπ„Çø„Éº„Éà„Ç¢„ÉÉ„Éó„Éô„É≥„ÉÅ„É£„ÉºÊ†™Âºè‰ºöÁ§æ',
                location: 'remote',
                salary: { min: 550, max: 800 },
                remote: 'remote',
                employment: 'fulltime',
                experience: 1,
                skills: ['React', 'Node.js', 'MongoDB', 'AWS'],
                workstyle: ['remote', 'flextime'],
                description: 'ÊÄ•ÊàêÈï∑‰∏≠„ÅÆ„Çπ„Çø„Éº„Éà„Ç¢„ÉÉ„Éó„Åß„ÄÅ„Éï„É≠„É≥„Éà„Ç®„É≥„Éâ„Åã„Çâ„Éê„ÉÉ„ÇØ„Ç®„É≥„Éâ„Åæ„ÅßÂπÖÂ∫É„ÅèÈñãÁô∫„Çí„Åä‰ªª„Åõ„Åó„Åæ„Åô„ÄÇÊñ∞Ë¶è„Çµ„Éº„Éì„Çπ„ÅÆÁ´ã„Å°‰∏ä„Åí„Åã„ÇâÂèÇÁîª„Åß„Åç„ÄÅÊäÄË°ìÈÅ∏ÂÆö„Å´„ÇÇÈñ¢„Çè„Å£„Å¶„ÅÑ„Åü„Å†„Åë„ÇãÈ≠ÖÂäõÁöÑ„Å™„Éù„Ç∏„Ç∑„Éß„É≥„Åß„Åô„ÄÇ',
                postedDays: 3,
                logo: 'üöÄ',
                featured: true
            },
            {
                id: 4,
                title: '„É¢„Éê„Ç§„É´„Ç¢„Éó„É™„Ç®„É≥„Ç∏„Éã„Ç¢ÔºàiOS/AndroidÔºâ',
                company: '„É¢„Éê„Ç§„É´„ÉÜ„ÉÉ„ÇØÊ†™Âºè‰ºöÁ§æ',
                location: 'osaka',
                salary: { min: 500, max: 700 },
                remote: 'hybrid',
                employment: 'fulltime',
                experience: 2,
                skills: ['React Native', 'Swift', 'Kotlin'],
                workstyle: ['hybrid', 'flextime'],
                description: 'iOS„Åä„Çà„Å≥Android„Ç¢„Éó„É™„ÅÆÈñãÁô∫„Çí„Åä‰ªª„Åõ„Åó„Åæ„Åô„ÄÇReact Native„Åæ„Åü„ÅØFlutter„Çí‰ΩøÁî®„Åó„Åü„ÇØ„É≠„Çπ„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†ÈñãÁô∫„ÅÆÁµåÈ®ìËÄÖÊ≠ìËøé„ÄÇ100‰∏áDL‰ª•‰∏ä„ÅÆ‰∫∫Ê∞ó„Ç¢„Éó„É™„ÅÆÈñãÁô∫„Å´Êê∫„Çè„Çå„Åæ„Åô„ÄÇ',
                postedDays: 5,
                logo: 'üì±',
                featured: false
            },
            {
                id: 5,
                title: '„Éá„Éº„Çø„Ç®„É≥„Ç∏„Éã„Ç¢',
                company: '„Éì„ÉÉ„Ç∞„Éá„Éº„ÇøÊ†™Âºè‰ºöÁ§æ',
                location: 'tokyo',
                salary: { min: 700, max: 1000 },
                remote: 'remote',
                employment: 'fulltime',
                experience: 3,
                skills: ['Python', 'SQL', 'AWS', 'Docker'],
                workstyle: ['remote', 'flextime'],
                description: 'Â§ßË¶èÊ®°„Éá„Éº„ÇøÂü∫Áõ§„ÅÆÊßãÁØâ„ÉªÈÅãÁî®„Çí„Åä‰ªª„Åõ„Åó„Åæ„Åô„ÄÇ„Éá„Éº„Çø„Éë„Ç§„Éó„É©„Ç§„É≥„ÅÆË®≠Ë®à„Åã„ÇâBIÁí∞Â¢É„ÅÆÊï¥ÂÇô„Åæ„Åß„ÄÅ„Éá„Éº„ÇøÊ¥ªÁî®„ÇíÊé®ÈÄ≤„Åô„ÇãÈáçË¶Å„Å™„Éù„Ç∏„Ç∑„Éß„É≥„Åß„Åô„ÄÇ',
                postedDays: 1,
                logo: 'üìä',
                featured: true
            },
            {
                id: 6,
                title: 'DevOps„Ç®„É≥„Ç∏„Éã„Ç¢',
                company: '„ÇØ„É©„Ç¶„Éâ„ÇΩ„É™„É•„Éº„Ç∑„Éß„É≥„Ç∫',
                location: 'tokyo',
                salary: { min: 650, max: 900 },
                remote: 'hybrid',
                employment: 'fulltime',
                experience: 3,
                skills: ['AWS', 'Docker', 'Kubernetes', 'Terraform'],
                workstyle: ['hybrid', 'office'],
                description: '„ÇØ„É©„Ç¶„Éâ„Ç§„É≥„Éï„É©„ÅÆÊßãÁØâ„Å®ÈÅãÁî®Ëá™ÂãïÂåñ„ÇíÊãÖÂΩì„Åó„Å¶„ÅÑ„Åü„Å†„Åç„Åæ„Åô„ÄÇKubernetes„ÄÅTerraformÁ≠â„ÇíÁî®„ÅÑ„ÅüIaC„ÄÅCI/CD„Éë„Ç§„Éó„É©„Ç§„É≥„ÅÆÊßãÁØâ„ÉªÊîπÂñÑ„Çí„Åä‰ªª„Åõ„Åó„Åæ„Åô„ÄÇ',
                postedDays: 4,
                logo: '‚òÅÔ∏è',
                featured: false
            },
            {
                id: 7,
                title: 'UI/UX„Éá„Ç∂„Ç§„Éä„ÉºÂÖº„Éï„É≠„É≥„Éà„Ç®„É≥„Éâ',
                company: '„Éá„Ç∂„Ç§„É≥„ÉÜ„ÉÉ„ÇØÊ†™Âºè‰ºöÁ§æ',
                location: 'tokyo',
                salary: { min: 550, max: 750 },
                remote: 'hybrid',
                employment: 'fulltime',
                experience: 2,
                skills: ['Figma', 'React', 'CSS', 'JavaScript'],
                workstyle: ['hybrid', 'flextime'],
                description: '„Éá„Ç∂„Ç§„É≥„Åã„Çâ„Éï„É≠„É≥„Éà„Ç®„É≥„ÉâÂÆüË£Ö„Åæ„Åß‰∏ÄË≤´„Åó„Å¶ÊãÖÂΩì„Åó„Å¶„ÅÑ„Åü„Å†„Åë„Åæ„Åô„ÄÇ„É¶„Éº„Ç∂„Éº‰∏≠ÂøÉË®≠Ë®à„ÅÆËÄÉ„ÅàÊñπ„ÇíÂ§ßÂàá„Å´„Åó„ÄÅÁæé„Åó„Åè‰Ωø„ÅÑ„ÇÑ„Åô„ÅÑUI„ÅÆÂÆüË£Ö„ÇíËøΩÊ±Ç„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
                postedDays: 6,
                logo: 'üé®',
                featured: false
            },
            {
                id: 8,
                title: 'Vue.js„Ç®„É≥„Ç∏„Éã„Ç¢',
                company: 'Ê†™Âºè‰ºöÁ§æ„É¢„ÉÄ„É≥„Ç¶„Çß„Éñ',
                location: 'remote',
                salary: { min: 500, max: 700 },
                remote: 'remote',
                employment: 'fulltime',
                experience: 1,
                skills: ['Vue.js', 'JavaScript', 'Node.js'],
                workstyle: ['remote', 'flextime'],
                description: 'Vue.js„Çí‰ΩøÁî®„Åó„ÅüËá™Á§æ„Çµ„Éº„Éì„Çπ„ÅÆÈñãÁô∫„Å´Êê∫„Çè„Å£„Å¶„ÅÑ„Åü„Å†„Åç„Åæ„Åô„ÄÇComposition API„ÇíÊ¥ªÁî®„Åó„Åü„É¢„ÉÄ„É≥„Å™ÈñãÁô∫ÊâãÊ≥ï„Åß„ÄÅ‰øùÂÆàÊÄß„ÅÆÈ´ò„ÅÑ„Ç≥„Éº„Éâ„ÇíÁõÆÊåá„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
                postedDays: 8,
                logo: 'üíö',
                featured: false
            },
            {
                id: 9,
                title: 'Java„Ç®„É≥„Ç∏„Éã„Ç¢Ôºà„Ç™„Éï„Ç£„ÇπÂã§ÂãôÔºâ',
                company: 'Â§ßÊâã„Ç∑„Çπ„ÉÜ„É†ÈñãÁô∫Ê†™Âºè‰ºöÁ§æ',
                location: 'tokyo',
                salary: { min: 600, max: 850 },
                remote: 'office',
                employment: 'fulltime',
                experience: 3,
                skills: ['Java', 'Spring', 'PostgreSQL'],
                workstyle: ['office'],
                description: 'Â§ßË¶èÊ®°„Ç®„É≥„Çø„Éº„Éó„É©„Ç§„Ç∫„Ç∑„Çπ„ÉÜ„É†„ÅÆÈñãÁô∫„Çí„Åä‰ªª„Åõ„Åó„Åæ„Åô„ÄÇSpring Boot„Çí‰ΩøÁî®„Åó„Åü„Éû„Ç§„ÇØ„É≠„Çµ„Éº„Éì„Çπ„Ç¢„Éº„Ç≠„ÉÜ„ÇØ„ÉÅ„É£„ÅÆË®≠Ë®à„ÉªÂÆüË£Ö„Å´Êê∫„Çè„Å£„Å¶„ÅÑ„Åü„Å†„Åë„Åæ„Åô„ÄÇ',
                postedDays: 4,
                logo: 'üèõÔ∏è',
                featured: false
            },
            {
                id: 10,
                title: '„Éï„É≠„É≥„Éà„Ç®„É≥„Éâ„Ç®„É≥„Ç∏„Éã„Ç¢ÔºàÂÆåÂÖ®„É™„É¢„Éº„ÉàÔºâ',
                company: '„É™„É¢„Éº„Éà„ÉØ„Éº„ÇØ„ÇπÊ†™Âºè‰ºöÁ§æ',
                location: 'remote',
                salary: { min: 480, max: 680 },
                remote: 'remote',
                employment: 'fulltime',
                experience: 1,
                skills: ['JavaScript', 'Vue.js', 'React'],
                workstyle: ['remote', 'flextime'],
                description: 'ÂÆåÂÖ®„É™„É¢„Éº„Éà„Åß„ÅÆÂã§Âãô„ÅåÂèØËÉΩ„Åß„Åô„ÄÇÂÖ®ÂõΩ„Å©„Åì„Åã„Çâ„Åß„ÇÇÂøúÂãü„Åß„Åç„Åæ„Åô„ÄÇ„Éï„É≠„É≥„Éà„Ç®„É≥„ÉâÈñãÁô∫„ÅÆÂÆüÂãôÁµåÈ®ì„Åå„ÅÇ„Çå„Å∞„ÄÅ„Éï„É¨„Éº„É†„ÉØ„Éº„ÇØ„ÅØÂïè„ÅÑ„Åæ„Åõ„Çì„ÄÇ',
                postedDays: 2,
                logo: 'üè†',
                featured: true
            },
            {
                id: 11,
                title: 'PHP„Ç®„É≥„Ç∏„Éã„Ç¢ÔºàLaravelÔºâ',
                company: '„Ç¶„Çß„Éñ„Çµ„Éº„Éì„ÇπÊ†™Âºè‰ºöÁ§æ',
                location: 'osaka',
                salary: { min: 450, max: 650 },
                remote: 'hybrid',
                employment: 'fulltime',
                experience: 2,
                skills: ['PHP', 'Laravel', 'MySQL'],
                workstyle: ['hybrid', 'flextime'],
                description: 'Laravel„Çí‰ΩøÁî®„Åó„ÅüWeb„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥ÈñãÁô∫„ÄÇËá™Á§æEC„Çµ„Ç§„Éà„ÅÆ„Éê„ÉÉ„ÇØ„Ç®„É≥„ÉâÈñãÁô∫„Çí„É°„Ç§„É≥„Å´„Åä‰ªª„Åõ„Åó„Åæ„Åô„ÄÇ',
                postedDays: 5,
                logo: 'üêò',
                featured: false
            },
            {
                id: 12,
                title: 'Ruby„Ç®„É≥„Ç∏„Éã„Ç¢ÔºàRailsÔºâ',
                company: '„Çπ„Çø„Éº„Éà„Ç¢„ÉÉ„Éó„É©„Éú',
                location: 'tokyo',
                salary: { min: 550, max: 750 },
                remote: 'remote',
                employment: 'fulltime',
                experience: 2,
                skills: ['Ruby', 'Rails', 'PostgreSQL'],
                workstyle: ['remote', 'flextime'],
                description: 'Ruby on Rails„Åß„ÅÆÈñãÁô∫ÁµåÈ®ìËÄÖ„ÇíÂãüÈõÜ„ÄÇ„Çπ„Çø„Éº„Éà„Ç¢„ÉÉ„Éó„Å™„Çâ„Åß„ÅØ„ÅÆ„Çπ„Éî„Éº„ÉâÊÑü„ÅßÊñ∞„Åó„ÅÑ„Çµ„Éº„Éì„Çπ„Çí‰Ωú„Çä‰∏ä„Åí„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ',
                postedDays: 3,
                logo: 'üíé',
                featured: false
            }
        ];

        let currentJobs = [...jobsDatabase];
        let bookmarkedJobs = JSON.parse(localStorage.getItem('bookmarkedJobs') || '[]');
        let currentPage = 1;
        const itemsPerPage = 10;

        // „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇ„ÅÆÂàùÊúüÂåñ
        window.onload = function() {
            displayJobs(currentJobs);
            updateSelectedFilters();
            
            // URL„Éë„É©„É°„Éº„Çø„Åã„ÇâÊ§úÁ¥¢Êù°‰ª∂„ÇíÂèñÂæó
            const urlParams = new URLSearchParams(window.location.search);
            const keyword = urlParams.get('keyword');
            if (keyword) {
                document.getElementById('searchKeyword').value = keyword;
                searchJobs();
            }
        };

        // Ê§úÁ¥¢Ê©üËÉΩ
        function searchJobs() {
            showLoading();

            setTimeout(() => {
                const keyword = document.getElementById('searchKeyword').value.toLowerCase();
                const location = document.getElementById('locationFilter').value;
                const salary = parseInt(document.getElementById('salaryFilter').value) || 0;
                const experience = parseInt(document.getElementById('experienceFilter').value) || -1;
                const employment = document.getElementById('employmentFilter').value;

                // „Çπ„Ç≠„É´„ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„Çπ
                const selectedSkills = Array.from(document.querySelectorAll('.filter-checkbox input[type="checkbox"]:not([name="workstyle"]):checked'))
                    .map(cb => cb.value);

                // Âã§ÂãôÂΩ¢ÊÖã„ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„Çπ
                const selectedWorkstyles = Array.from(document.querySelectorAll('.filter-checkbox input[name="workstyle"]:checked'))
                    .map(cb => cb.value);

                let filteredJobs = jobsDatabase.filter(job => {
                    // „Ç≠„Éº„ÉØ„Éº„ÉâÊ§úÁ¥¢
                    const matchKeyword = !keyword || 
                        job.title.toLowerCase().includes(keyword) ||
                        job.company.toLowerCase().includes(keyword) ||
                        job.description.toLowerCase().includes(keyword) ||
                        job.skills.some(skill => skill.toLowerCase().includes(keyword));

                    // Âã§ÂãôÂú∞„Éï„Ç£„É´„Çø
                    const matchLocation = !location || job.location === location;

                    // Âπ¥Âèé„Éï„Ç£„É´„Çø
                    const matchSalary = job.salary.max >= salary;

                    // ÁµåÈ®ìÂπ¥Êï∞„Éï„Ç£„É´„Çø
                    const matchExperience = experience === -1 || job.experience <= experience;

                    // ÈõáÁî®ÂΩ¢ÊÖã„Éï„Ç£„É´„Çø
                    const matchEmployment = !employment || job.employment === employment;

                    // „Çπ„Ç≠„É´„Éï„Ç£„É´„Çø
                    const matchSkills = selectedSkills.length === 0 || 
                        selectedSkills.every(skill => job.skills.includes(skill));

                    // Âã§ÂãôÂΩ¢ÊÖã„Éï„Ç£„É´„Çø
                    const matchWorkstyle = selectedWorkstyles.length === 0 || 
                        selectedWorkstyles.some(style => job.workstyle.includes(style));

                    return matchKeyword && matchLocation && matchSalary && 
                           matchExperience && matchEmployment && matchSkills && matchWorkstyle;
                });

                currentJobs = filteredJobs;
                currentPage = 1;
                hideLoading();
                displayJobs(filteredJobs);
                updateSelectedFilters();
            }, 500);
        }

        // „ÇΩ„Éº„ÉàÊ©üËÉΩ
        function sortJobs() {
            const sortBy = document.getElementById('sortSelect').value;

            let sortedJobs = [...currentJobs];

            switch(sortBy) {
                case 'newest':
                    sortedJobs.sort((a, b) => a.postedDays - b.postedDays);
                    break;
                case 'salary-high':
                    sortedJobs.sort((a, b) => b.salary.max - a.salary.max);
                    break;
                case 'salary-low':
                    sortedJobs.sort((a, b) => a.salary.min - b.salary.min);
                    break;
                case 'popular':
                    sortedJobs.sort((a, b) => (b.featured ? 1 : 0) - (a.featured ? 1 : 0));
                    break;
            }

            currentJobs = sortedJobs;
            displayJobs(sortedJobs);
        }

        // Ê±Ç‰∫∫Ë°®Á§∫
        function displayJobs(jobs) {
            const jobsList = document.getElementById('jobsList');
            const resultsCount = document.getElementById('resultsCount');

            resultsCount.textContent = `${jobs.length}‰ª∂„ÅÆÊ±Ç‰∫∫„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åó„Åü`;

            if (jobs.length === 0) {
                jobsList.innerHTML = `
                    <div class="no-results">
                        <div class="no-results-icon">üîç</div>
                        <h3>Ë©≤ÂΩì„Åô„ÇãÊ±Ç‰∫∫„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü</h3>
                        <p>Ê§úÁ¥¢Êù°‰ª∂„ÇíÂ§âÊõ¥„Åó„Å¶„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ</p>
                    </div>
                `;
                document.getElementById('pagination').style.display = 'none';
                return;
            }

            // „Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥Ë®àÁÆó
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const paginatedJobs = jobs.slice(startIndex, endIndex);

            jobsList.innerHTML = paginatedJobs.map(job => `
                <div class="job-card">
                    <div class="job-card-header">
                        <div class="job-info" onclick="viewJobDetail(${job.id})">
                            <h2 class="job-title">${job.title}</h2>
                            <div class="company-name" onclick="event.stopPropagation(); viewCompany('${job.company}')">${job.company}</div>
                        </div>
                        <div class="company-logo">${job.logo}</div>
                    </div>

                    <div class="job-meta">
                        <div class="job-meta-item">üìç ${getLocationText(job.location)}</div>
                        <div class="job-meta-item">üí∞ ${job.salary.min}-${job.salary.max}‰∏áÂÜÜ</div>
                        <div class="job-meta-item">üè† ${getRemoteText(job.remote)}</div>
                        <div class="job-meta-item">‚è∞ ${getEmploymentText(job.employment)}</div>
                    </div>

                    <p class="job-description">${job.description}</p>

                    <div class="job-tags">
                        ${job.featured ? '<span class="job-tag featured">Ê≥®ÁõÆÊ±Ç‰∫∫</span>' : ''}
                        ${job.skills.map(skill => `<span class="job-tag">${skill}</span>`).join('')}
                        ${job.workstyle.map(style => `<span class="job-tag workstyle">${getWorkstyleText(style)}</span>`).join('')}
                    </div>

                    <div class="job-footer">
                        <div class="posted-date">üìÖ ${job.postedDays}Êó•Ââç„Å´ÊäïÁ®ø</div>
                        <div class="job-actions">
                            <button class="btn-bookmark ${bookmarkedJobs.includes(job.id) ? 'bookmarked' : ''}" 
                                    onclick="bookmarkJob(event, ${job.id})"
                                    title="${bookmarkedJobs.includes(job.id) ? '„Éñ„ÉÉ„ÇØ„Éû„Éº„ÇØÊ∏à„Åø' : '„Éñ„ÉÉ„ÇØ„Éû„Éº„ÇØ„Å´ËøΩÂä†'}">
                                ${bookmarkedJobs.includes(job.id) ? '‚úì' : 'üîñ'}
                            </button>
                            <button class="btn-apply" onclick="openApplyModal(event, ${job.id})">
                                ÂøúÂãü„Åô„Çã
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');

            // „Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥Ë°®Á§∫
            displayPagination(jobs.length);
        }

        // „Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥Ë°®Á§∫
        function displayPagination(totalItems) {
            const pagination = document.getElementById('pagination');
            const totalPages = Math.ceil(totalItems / itemsPerPage);

            if (totalPages <= 1) {
                pagination.style.display = 'none';
                return;
            }

            pagination.style.display = 'flex';

            let paginationHTML = `
                <button onclick="changePage(${currentPage - 1})" ${currentPage === 1 ? 'disabled' : ''}>
                    ‚Üê Ââç„Å∏
                </button>
            `;

            // „Éö„Éº„Ç∏Áï™Âè∑„Éú„Çø„É≥
            for (let i = 1; i <= totalPages; i++) {
                if (i === 1 || i === totalPages || (i >= currentPage - 2 && i <= currentPage + 2)) {
                    paginationHTML += `
                        <button class="${i === currentPage ? 'active' : ''}" onclick="changePage(${i})">
                            ${i}
                        </button>
                    `;
                } else if (i === currentPage - 3 || i === currentPage + 3) {
                    paginationHTML += '<span>...</span>';
                }
            }

            paginationHTML += `
                <button onclick="changePage(${currentPage + 1})" ${currentPage === totalPages ? 'disabled' : ''}>
                    Ê¨°„Å∏ ‚Üí
                </button>
            `;

            pagination.innerHTML = paginationHTML;
        }

        // „Éö„Éº„Ç∏Â§âÊõ¥
        function changePage(page) {
            currentPage = page;
            displayJobs(currentJobs);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ÈÅ∏Êäû‰∏≠„ÅÆ„Éï„Ç£„É´„Çø„ÉºË°®Á§∫
        function updateSelectedFilters() {
            const container = document.getElementById('selectedFilters');
            const filters = [];

            // „Ç≠„Éº„ÉØ„Éº„Éâ
            const keyword = document.getElementById('searchKeyword').value;
            if (keyword) {
                filters.push({ label: `„Ç≠„Éº„ÉØ„Éº„Éâ: ${keyword}`, clear: () => {
                    document.getElementById('searchKeyword').value = '';
                    searchJobs();
                }});
            }

            // Âã§ÂãôÂú∞
            const location = document.getElementById('locationFilter');
            if (location.value) {
                filters.push({ label: `Âã§ÂãôÂú∞: ${location.options[location.selectedIndex].text}`, clear: () => {
                    location.value = '';
                    searchJobs();
                }});
            }

            // Âπ¥Âèé
            const salary = document.getElementById('salaryFilter');
            if (salary.value) {
                filters.push({ label: `Âπ¥Âèé: ${salary.options[salary.selectedIndex].text}`, clear: () => {
                    salary.value = '';
                    searchJobs();
                }});
            }

            // „Çπ„Ç≠„É´
            const selectedSkills = Array.from(document.querySelectorAll('.filter-checkbox input[type="checkbox"]:checked'));
            selectedSkills.forEach(cb => {
                filters.push({ label: `„Çπ„Ç≠„É´: ${cb.value}`, clear: () => {
                    cb.checked = false;
                    searchJobs();
                }});
            });

            if (filters.length === 0) {
                container.innerHTML = '';
                return;
            }

            container.innerHTML = filters.map(filter => `
                <div class="filter-tag">
                    ${filter.label}
                    <button onclick='${filter.clear.toString().replace(/\n/g, '')}'>√ó</button>
                </div>
            `).join('');
        }

        // „Éï„Ç£„É´„Çø„Éº„ÇØ„É™„Ç¢
        function clearFilters() {
            document.getElementById('searchKeyword').value = '';
            document.getElementById('locationFilter').value = '';
            document.getElementById('salaryFilter').value = '';
            document.getElementById('experienceFilter').value = '';
            document.getElementById('employmentFilter').value = '';
            
            document.querySelectorAll('.filter-checkbox input[type="checkbox"]').forEach(cb => {
                cb.checked = false;
            });

            currentJobs = [...jobsDatabase];
            displayJobs(currentJobs);
            updateSelectedFilters();
        }

        // „Éñ„ÉÉ„ÇØ„Éû„Éº„ÇØÊ©üËÉΩ
        function bookmarkJob(event, jobId) {
            event.stopPropagation();
            
            if (bookmarkedJobs.includes(jobId)) {
                bookmarkedJobs = bookmarkedJobs.filter(id => id !== jobId);
                alert('„Éñ„ÉÉ„ÇØ„Éû„Éº„ÇØ„ÇíËß£Èô§„Åó„Åæ„Åó„Åü');
            } else {
                bookmarkedJobs.push(jobId);
                alert('„Éñ„ÉÉ„ÇØ„Éû„Éº„ÇØ„Å´ËøΩÂä†„Åó„Åæ„Åó„ÅüÔºÅ');
            }

            localStorage.setItem('bookmarkedJobs', JSON.stringify(bookmarkedJobs));
            displayJobs(currentJobs);
        }

        // ÂøúÂãü„É¢„Éº„ÉÄ„É´„ÇíÈñã„Åè
        let currentApplyJobId = null;

        function openApplyModal(event, jobId) {
            event.stopPropagation();

            const loggedInUser = sessionStorage.getItem('loggedInUser');
            if (!loggedInUser) {
                if (confirm('ÂøúÂãü„Åô„Çã„Å´„ÅØ„É≠„Ç∞„Ç§„É≥„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ„É≠„Ç∞„Ç§„É≥„Éö„Éº„Ç∏„Å´ÁßªÂãï„Åó„Åæ„Åô„ÅãÔºü')) {
                    sessionStorage.setItem('redirectAfterLogin', window.location.href);
                    window.location.href = 'login.html';
                }
                return;
            }

            const job = jobsDatabase.find(j => j.id === jobId);
            if (!job) return;

            currentApplyJobId = jobId;

            document.getElementById('modalJobTitle').textContent = job.title;
            document.getElementById('modalCompanyName').textContent = job.company;

            const user = JSON.parse(loggedInUser);
            const engineers = JSON.parse(localStorage.getItem('engineers') || '[]');
            const engineer = engineers.find(e => e.email === user.email);

            if (engineer) {
                document.getElementById('applicantName').value = 
                    `${engineer.lastName} ${engineer.firstName}`;
                document.getElementById('applicantEmail').value = engineer.email;
                document.getElementById('applicantPhone').value = engineer.phone || '';
            }

            document.getElementById('applyModal').classList.add('active');
        }

        // ÂøúÂãü„É¢„Éº„ÉÄ„É´„ÇíÈñâ„Åò„Çã
        function closeApplyModal() {
            document.getElementById('applyModal').classList.remove('active');
            document.getElementById('applyForm').reset();
        }

        // ÂøúÂãü„Éï„Ç©„Éº„É†ÈÄÅ‰ø°
        document.getElementById('applyForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const job = jobsDatabase.find(j => j.id === currentApplyJobId);
            
            const applicationData = {
                jobId: currentApplyJobId,
                jobTitle: job.title,
                companyName: job.company,
                applicantName: document.getElementById('applicantName').value,
                applicantEmail: document.getElementById('applicantEmail').value,
                applicantPhone: document.getElementById('applicantPhone').value,
                coverLetter: document.getElementById('coverLetter').value,
                resumeUrl: document.getElementById('resumeUrl').value,
                appliedDate: new Date().toISOString(),
                status: 'pending'
            };

            let applications = JSON.parse(localStorage.getItem('applications') || '[]');
            
            // ÈáçË§áÂøúÂãü„ÉÅ„Çß„ÉÉ„ÇØ
            const isDuplicate = applications.some(app => 
                app.jobId === currentApplyJobId && 
                app.applicantEmail === applicationData.applicantEmail
            );

            if (isDuplicate) {
                alert('„Åì„ÅÆÊ±Ç‰∫∫„Å´„ÅØÊó¢„Å´ÂøúÂãüÊ∏à„Åø„Åß„Åô');
                closeApplyModal();
                return;
            }

            applications.push(applicationData);
            localStorage.setItem('applications', JSON.stringify(applications));

            closeApplyModal();

            alert(`ÂøúÂãü„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„ÅüÔºÅ\n\n„ÄêÂøúÂãüÂÜÖÂÆπ„Äë\nÊ±Ç‰∫∫: ${job.title}\n‰ºÅÊ•≠: ${job.company}\n\n‰ºÅÊ•≠„Åã„Çâ„ÅÆÈÄ£Áµ°„Çí„ÅäÂæÖ„Å°„Åè„Å†„Åï„ÅÑ„ÄÇ\nÂøúÂãüÁä∂Ê≥Å„ÅØ„Äå„Éû„Ç§„Éö„Éº„Ç∏„Äç„Åã„Çâ„ÅîÁ¢∫Ë™ç„ÅÑ„Åü„Å†„Åë„Åæ„Åô„ÄÇ`);
        });

        // „É¢„Éº„ÉÄ„É´Â§ñ„ÇØ„É™„ÉÉ„ÇØ„ÅßÈñâ„Åò„Çã
        document.getElementById('applyModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeApplyModal();
            }
        });

        // Ê±Ç‰∫∫Ë©≥Á¥∞„Éö„Éº„Ç∏„Å∏ÈÅ∑Áßª
        function viewJobDetail(jobId) {
            window.location.href = `job-detail.html?id=${jobId}`;
        }

        // ‰ºÅÊ•≠Ë©≥Á¥∞Ë°®Á§∫
        function viewCompany(companyName) {
            alert(`‰ºÅÊ•≠Ë©≥Á¥∞„Éö„Éº„Ç∏: ${companyName}\nÔºàÂÆüË£Ö‰∫àÂÆöÔºâ`);
        }

        // „Éò„É´„Éë„ÉºÈñ¢Êï∞
        function getLocationText(location) {
            const locations = {
                'tokyo': 'Êù±‰∫¨ÈÉΩ',
                'osaka': 'Â§ßÈò™Â∫ú',
                'nagoya': 'ÊÑõÁü•Áúå',
                'fukuoka': 'Á¶èÂ≤°Áúå',
                'remote': '„Éï„É´„É™„É¢„Éº„Éà'
            };
            return locations[location] || location;
        }

        function getRemoteText(remote) {
            const remotes = {
                'remote': 'ÂÆåÂÖ®„É™„É¢„Éº„Éà',
                'hybrid': '„Éè„Ç§„Éñ„É™„ÉÉ„Éâ',
                'office': '„Ç™„Éï„Ç£„ÇπÂã§Âãô'
            };
            return remotes[remote] || remote;
        }

        function getEmploymentText(employment) {
            const employments = {
                'fulltime': 'Ê≠£Á§æÂì°',
                'contract': 'Â•ëÁ¥ÑÁ§æÂì°',
                'freelance': '„Éï„É™„Éº„É©„É≥„Çπ'
            };
            return employments[employment] || employment;
        }

        function getWorkstyleText(workstyle) {
            const workstyles = {
                'remote': '„Éï„É´„É™„É¢„Éº„Éà',
                'hybrid': '„Éè„Ç§„Éñ„É™„ÉÉ„Éâ',
                'office': '„Ç™„Éï„Ç£„ÇπÂã§Âãô',
                'flextime': '„Éï„É¨„ÉÉ„ÇØ„Çπ'
            };
            return workstyles[workstyle] || workstyle;
        }

        function showLoading() {
            document.getElementById('loadingSpinner').classList.add('show');
            document.getElementById('jobsList').style.display = 'none';
        }

        function hideLoading() {
            document.getElementById('loadingSpinner').classList.remove('show');
            document.getElementById('jobsList').style.display = 'block';
        }
    </script>
</body>
</html>